<html>
  <head>
    <title>View JSON Demo</title>
    <!-- <link rel="import" href="./view-json.html"> -->
    <script src="./view-json.js"></script>
  </head>
    <style>
    body {
      font-family: Helvetica;
    }
    view-json {
      /*--background-color: #333;
      --color: #ddd;
      --string-color: #2d2;
      --number-color: pink;
      --boolean-color: orange;
      --null-color: grey;
      --key-color: magenta;*/
      /*--string-color: blue;*/
     }
    </style>
    <view-json>
      { "view json": "native v1 web component", "css variables": ["--background-color","--color","--string-color","--number-color","--boolean-color","--null-color","--key-color"], "attributes": ["inline","no-scroll","no-parse"], "dependencies": null,"lines of code":64 }
    </view-json>

    <p id="change-innerhtml-when-clicked">Changes to <view-json no-scroll inline no-parse style="--color:black;--background-color:white;">innerHTML</view-json> of component are refreshed live</p>
    <script>
    let changeTriggerEl = document.querySelector('#change-innerhtml-when-clicked');
    let changeTargetEl = changeTriggerEl.querySelector('view-json');
    changeTriggerEl.addEventListener('click', function() {
      if (changeTriggerEl.classList.contains('customized')) changeTargetEl.innerHTML = 'innerHTML';
      else changeTargetEl.innerHTML = 'innerHTML (told you so)';
      changeTriggerEl.classList.toggle('customized');
    });
    </script>
    <p>Only valid JSON is accepted or you will get something like <view-json no-scroll inline>{</view-json></p>
    <p>Inline stuff with the <view-json no-scroll inline no-parse style="--color:black;--background-color:white;">inline</view-json>attribute</p>
    <p>To turn off parsing (acts just like a <view-json no-scroll inline no-parse style="--color:black;--background-color:white;"><&zwj;pre></view-json>), add the <view-json no-scroll inline no-parse style="--color:black;--background-color:white;">no-parse</view-json>attribute</p>
    <p>Colors can be overwriden via css vars:<view-json no-scroll no-parse>view-json {
  --background-color: #333;
  --color: #ddd;
  --string-color: #2d2;
  --number-color: pink;
  --boolean-color: orange;
  --null-color: grey;
  --key-color: magenta;
}</view-json></p>
  <a style="font-family:monospace;" href="https://github.com/zvakanaka/view-json">github</a>
  <script>
  (function() {
    'use strict';
    // thanks: https://gist.github.com/ebidel/1d5ede1e35b6f426a2a7
    function lazyLoadWCPolyfillsIfNecessary(src) {
      var onload = function() {
        // For native Imports, manually fire WCR so user code
        // can use the same code path for native and polyfill'd imports.
        if (!window.HTMLImports) {
          document.dispatchEvent(
            new CustomEvent('WebComponentsReady', {bubbles: true}));
        }
      };
      var webComponentsSupported = (
        'registerElement' in document
        && 'import' in document.createElement('link')
        && 'content' in document.createElement('template'));
      if (!webComponentsSupported) {
        var script = document.createElement('script');
        script.async = true;
        script.src = src;
        script.onload = onload;
        document.head.appendChild(script);
      } else {
        onload();
      }
    }
    lazyLoadWCPolyfillsIfNecessary('https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/1.0.7/webcomponents-loader.js');
  })();
  </script>
  </body>
</html>
